PROGRAM RBMOV
    DEFINE VAR1 VAR2 VAR3 VAR4 ARM
    PRINTLN "TYPE THE NUMBER OF A CLOSET (BETWEEN 1 TO 36): "
    READ ARM
    
    SET VAR1 = 100 + ARM
    SET VAR2 = 200 + ARM
    SET VAR3 = 300 + ARM
    SET VAR4 = 400 + ARM
     
    ;COMMANDS FOR PALLETS
    SET OUT[13] = 1 ;TURN ON GREEN LIGHT
    SET OUT[14] = 0 ;TURN OFF RED LIGHT
    WAIT IN[13] = 1 ;WAIT PALLET
    SET OUT[12] = 1 ;LIFT THE TREADMILL PIN
    SET OUT[14]= 1 ;TURN ON RED LIGHT
    WAIT IN[14] = 1 ;WAIT PALLET ON POSITION
    DELAY 100
    SET OUT[13] = 0 ;TURN OFF GREEN LIGHT
    
    ;COMMANDS TO GET PALLET CABINET
    MOVED CIM[95] ;CENTRAL POSITION
    MOVED CIM[VAR4] ; CHOSEN CLOSET POSITION
    MOVED CIM[VAR3] ;FRONT CLOSET POSITION
    OPEN ;OPEN THE CLAW
    MOVED CIM[VAR2] ;POSITION ABOVE CABINET
    MOVED CIM[VAR1] ; POSITION IN THE CABINET
    CLOSE ;CLOSE THE CLAW ON THE PALLET
    
    ;BACK MOVEMENT 
    MOVED CIM[VAR2] ; BACK UP
    MOVED CIM[VAR3] ; GO BACK
    MOVED CIM[VAR4] ; BACK FORWARD
    MOVED CIM[95] ; CENTRAL POSITION AGAIN
  
   ;ABOVE THE PALLET
    MOVED CIM[11] ; CLAW OVER PALLET
    MOVED CIM[1] ; DEPOSIT IN PALLET
    OPEN ;OPEN THE CLAW
    MOVED CIM[11]; RAISES THE EMPTY CLAW
    
    ;PALLET MAT RELEASE
    SET OUT[12] = 0 ;DISABLE THE TREADMILL LOCK
    SET OUT[14] = 0 ;TURN OFF RED LIGHT
    SET OUT[12] = 1 ;TURN ON GREEN LIGHT
    
    ;ROBOT CENTRAL POSITION
    MOVED CIM[95] ;ROBO IS IN CENTRAL POSITION

END